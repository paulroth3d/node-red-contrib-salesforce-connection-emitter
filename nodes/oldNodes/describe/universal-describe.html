<script type="text/javascript">
	RED.nodes.registerType('universal-describe',{
		category: 'Exploration Toolkit',
		color: '#C0DEED',
		defaults: {
			name: { value: '' },
			api: { value: '', required: true},
			objectName: { value: '' },
			describeAll: { value: true},
			usePayload: { value: false},
		},
		inputs: 1,
		outputs: 1,
		icon: "db.png",
		label: function() {
			return this.name || "Describe All";
		}
	});
</script>

<script type="text/x-red" data-template-name="universal-describe">
	<div class="form-row">
			<label for="node-input-name"><i class="icon-tag"></i> Name</label>
			<input type="text" id="node-input-name" placeholder="Name">
	</div>
	
	<div class="form-row">
		<label for="node-input-describeAll"><i class="icon-tag"></i> Describe All</label>
		<input type="checkbox" id="node-input-describeAll">
	</div>

	<div class="form-row">
		<label for="node-input-api"><i class="fa fa-code"></i> Select Salesforce API</label>
		<select id="node-input-api" style="width:180px;">
			<option value="soap">Soap API</option>
			<option value="tooling">Tooling API</option>
			<option value="metadata">Metadata API</option>
		</select>
	</div>

	
	<div class="form-row">
		<label for="node-input-name"><i class="icon-tag"></i> Object Name</label>
		<input type="text" id="node-input-objectName" placeholder="Object Name">
	</div>

	<div class="form-row">
		<label for="node-input-usePayload"><i class="icon-tag"></i> Use Payload</label>
		<input type="checkbox" id="node-input-usePayload">
	</div>
</script>

<script type="text/x-red" data-help-name="universal-describe">
	<p>Describe all objects or a specific object using the various Salesforce APIs.</p>

	<h2>Options</h2>
	<h3>APIs</h3>
	<ul>
		<li><i>Soap API</i><p>Describes standard and custom objects.</p></li>
		<li><i>Tooling API</i><p>Describes the objects used for system configuration.</p></li>
		<li><i>Metadata API</i><p>Retrieves the metadata the describes the org.</p></li>
	</ul>

	<h3>Describe All</h3>
	<p>Check the <i>Describe All</i> checkbox if you wish to get a list of all objects 
		via the selected API. If unchecked, then the node attempts to describe a specific object.</p>

	<h3>Object Name</h3>
	<p>
		If the <i>Describe All</i> checkbox is not checked, then the node will attempt
		to describe an object by its name. Provide the name in the <i>Object Name</i> 
		text box. Alternatively, if the <i>Use Payload</i> checkbox is checked the object 
		name can be provided via msg.payload. 
	</p>

	<h4>Note</h4>
	<p>
			The fields <i>Object Name</i> and <i>Use Payload</i> do not have an effect 
			on the metadata API and are ignored.
	</p>
	
	




</script>
